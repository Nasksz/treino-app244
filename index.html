<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Treino Avan√ßado ‚Ä¢ App</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#020617">

<style>
body{
  margin:0;
  font-family: system-ui, Arial;
  background:#020617;
  color:#e5e7eb;
}
header{
  padding:16px;
  text-align:center;
  border-bottom:1px solid #1e293b;
}
h1{margin:0;font-size:1.4rem;}
.container{padding:16px;max-width:900px;margin:auto;}
.day{
  border:1px solid #1e293b;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
}
.day h2{margin:0 0 8px;color:#38bdf8;}
.exercise{
  display:grid;
  grid-template-columns:1fr 70px 70px 30px;
  gap:6px;
  margin-bottom:6px;
}
input{
  background:#020617;
  border:1px solid #1e293b;
  border-radius:8px;
  color:#e5e7eb;
  padding:6px;
  text-align:center;
}
.check{accent-color:#22c55e;}
.cardio{
  margin-top:8px;
  padding:8px;
  border-left:4px solid #22c55e;
}
.timer{
  position:fixed;
  bottom:16px;
  right:16px;
  background:#020617;
  border:1px solid #1e293b;
  border-radius:16px;
  padding:12px;
  text-align:center;
}
button{
  background:#22c55e;
  border:none;
  border-radius:8px;
  padding:6px 10px;
  font-weight:bold;
  cursor:pointer;
}
  select{
  width:100%;
  padding:8px;
  background:#020617;
  color:#e5e7eb;
  border:1px solid #1e293b;
  border-radius:8px;
  margin-bottom:8px;
}
canvas{
  background:#020617;
  border-radius:12px;
}

</style>
</head>

<body>

<header>
<h1>üèãÔ∏è Treino Avan√ßado</h1>
<p>Mobilidade ‚Ä¢ Hipertrofia ‚Ä¢ Cardio</p>
</header>

<div class="container" id="app"></div>
<div class="day">
  <h2>üìä Evolu√ß√£o de Carga</h2>
  <select id="selectEx">
    <option value="">Selecione um exerc√≠cio</option>
  </select>
  <canvas id="grafico" height="200"></canvas>
</div>

<div class="timer">
<p id="time">00:00</p>
<button onclick="startTimer()">‚ñ∂</button>
<button onclick="resetTimer()">‚èπ</button>
</div>

<script>
const treinos = {
"Segunda ‚Äî Peito ‚Ä¢ Tr√≠ceps ‚Ä¢ Ombro":[
"Supino reto","Supino inclinado","Crossover","Desenvolvimento","Tr√≠ceps corda"
],
"Ter√ßa ‚Äî Costas ‚Ä¢ B√≠ceps":[
"Puxada alta","Remada curvada","Remada baixa","Rosca direta","Rosca martelo"
],
"Quarta ‚Äî Pernas (joelho valgo)":[
"Agachamento","Leg press","Cadeira abdutora","Passada","Eleva√ß√£o p√©lvica"
],
"Quinta ‚Äî Peito":[
"Supino halter","Crucifixo","Peck deck"
],
"Sexta ‚Äî Costas ‚Ä¢ B√≠ceps":[
"Barra fixa","Remada unilateral","Pulldown"
],
"S√°bado ‚Äî Pernas":[
"Agacho sum√¥","Stiff","Mesa flexora","Panturrilha"
],
"Domingo ‚Äî Detalhes":[
"Core","Abd√¥men","Alongamentos"
]
};

const app = document.getElementById("app");

Object.entries(treinos).forEach(([dia,exs])=>{
  const d=document.createElement("div");
  d.className="day";
  d.innerHTML=`<h2>${dia}</h2>`;
  exs.forEach(e=>{
    const id=dia+e;
    d.innerHTML+=`
    <div class="exercise">
      <span>${e}</span>
      <input placeholder="kg" value="${localStorage[id+'kg']||''}"
        oninput="localStorage['${id}kg']=this.value">
      <input placeholder="obs" value="${localStorage[id+'obs']||''}"
        oninput="localStorage['${id}obs']=this.value">
      <input type="checkbox" class="check"
        ${localStorage[id+'ck']?'checked':''}
        onchange="this.checked?localStorage['${id}ck']=1:localStorage.removeItem('${id}ck')">
    </div>`;
  });
  d.innerHTML+=`<div class="cardio">Cardio: 35 min</div>`;
  app.appendChild(d);
});

// TIMER
let s=0,interval;
function startTimer(){
  clearInterval(interval);
  interval=setInterval(()=>{
    s++;
    document.getElementById("time").innerText=
    String(Math.floor(s/60)).padStart(2,'0')+":"+String(s%60).padStart(2,'0');
  },1000);
}
function resetTimer(){
  clearInterval(interval);
  s=0;
  document.getElementById("time").innerText="00:00";
}

// SERVICE WORKER
if("serviceWorker"in navigator){
  navigator.serviceWorker.register("sw.js");
}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const select = document.getElementById("selectEx");
const ctx = document.getElementById("grafico").getContext("2d");
let chart;

const exercicios = [];
for(let k in localStorage){
  if(k.endsWith("kg")){
    exercicios.push(k.replace("kg",""));
  }
}

[...new Set(exercicios)].forEach(e=>{
  const o=document.createElement("option");
  o.value=e;
  o.textContent=e;
  select.appendChild(o);
});

select.onchange=()=>{
  const ex=select.value;
  if(!ex)return;

  const dados=[];
  const labels=[];

  for(let i=1;i<=10;i++){
    const v=localStorage[ex+"kg"];
    if(v){
      dados.push(Number(v));
      labels.push("Treino");
    }
  }

  if(chart)chart.destroy();
  chart=new Chart(ctx,{
    type:"line",
    data:{
      labels,
      datasets:[{
        label:"Carga (kg)",
        data:dados,
        borderWidth:2,
        tension:.4
      }]
    },
    options:{
      plugins:{legend:{labels:{color:"#e5e7eb"}}},
      scales:{
        x:{ticks:{color:"#94a3b8"}},
        y:{ticks:{color:"#94a3b8"}}
      }
    }
  });
};
</script>

</script>

</body>
</html>
